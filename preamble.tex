% Lingua e microtipografia
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{microtype}

\usepackage{setspace}
\onehalfspacing

% Paragrafi con spazio ridotto rispetto a parskip=half
\AtBeginDocument{%
  \setlength{\parskip}{0.35\baselineskip}%
}


% Layout con intestazioni KOMA
\usepackage[automark,headsepline]{scrlayer-scrpage}
% Header: mostra solo il titolo del capitolo (senza "Capitolo" e numero)
\automark{chapter}
\renewcommand*{\chaptermarkformat}{}
\clearpairofpagestyles
\ihead{\headmark}
\ohead{\pagemark}
\pagestyle{scrheadings}

% Titoli pi√π leggibili (KOMA)
\RedeclareSectionCommand[beforeskip=1.5em plus .2em minus .1em,afterskip=.8em plus .1em minus .1em]{section}
\RedeclareSectionCommand[beforeskip=1em plus .2em minus .1em,afterskip=.5em plus .1em minus .1em]{subsection}

% Stile capitolo grande, bold, allineato a sinistra
\setkomafont{chapter}{\Huge\bfseries}

% Matematica
\usepackage{amsmath, amssymb, amsthm, mathtools}
\usepackage{physics}


% Grafica
\usepackage{graphicx}
\graphicspath{{figures/}}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

% Riferimenti intelligenti e link
\usepackage[hidelinks]{hyperref}
\usepackage[nameinlink,noabbrev]{cleveref}

% Bibliografia (biber + biblatex)
\usepackage{csquotes}
\usepackage[backend=biber,style=alphabetic,maxbibnames=9]{biblatex}
\addbibresource{biblio/references.bib}

% Elenchi
\usepackage{enumitem}

% Teoremi (sposta in sty/ambiente-teoremi.sty se vuoi)
\newtheorem{theorem}{Teorema}[section]
\newtheorem{lemma}[theorem]{Lemma}

%teoremi unici
\newtheorem*{postulato1}{Postulato degli stati}
\newtheorem*{postulato2}{Postulato delle osservabili}

\theoremstyle{definition}
\newtheorem{example}{Esempio}[section]
\newtheorem{definition}{Definizione}[section]
\newtheoremstyle{attentionstyle}%
  {3pt}{3pt}%
  {\normalfont}%
  {}%
  {\bfseries}%
  { }%
  {0pt}%
  {#1#3}

\theoremstyle{attentionstyle}
\newtheorem*{attention}{Attenzione!}
\theoremstyle{remark}
\newtheorem*{remark}{Osservazione}



% Comandi utili
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{2}

\renewcommand{\ip}[2]{\langle #1, #2 \rangle}
